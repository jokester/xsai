// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`streamText with tools > basic 1`] = `
"<think>
Okay, so the user is asking how many times 114514 plus 1919810 equals. Let me try to parse that. Wait, maybe they mean the result of adding those two numbers? Let me check. The problem says "How many times does 114514 plus 1919810 equal?" Hmm, maybe it's a typo or mistranslation into another language. Like, maybe "114514 plus 1919810" equals a certain value, and they want to know how many times that value is? But that doesn't make sense. Wait, maybe the question is asking for the sum of the two numbers? Or maybe there's a context I'm missing. Let me think again.

Alternatively, perhaps it's a translation issue. If "times" refers to multiplication, maybe they want to know the product of 114514 and 1919810? But that seems like a big number. Let me calculate the sum first, because if there's a mistranslation, maybe the user is asking for the sum. Let me add 114514 and 1919810. Adding them would give me 114514 + 1919810. Let me do that. 114514 + 1919810. Well, 1919810 plus 114,514. Let me add digit by digit. 1 + 9 is 10, 9 + 1 is 10, 5 + 8 is 13, 1 + 9 is 10, 1 + 5 is 6, 4 + 4 is 8. So that would be 10,001,0... maybe? Wait, perhaps another way. Let me compute 1919810 + 114514. Well, 1919810 + 100,000 is 2019810, then add 14514: 2019810 + 14514. Let me do 20,198,10 + 14,514. That's 20,212,614. So the sum is 20,212,614. But the user's question is phrased as "how many times does 114514 plus 1919810 equal?" which sounds like they want the sum. However, the tools provided only have the 'add' function. So perhaps they just want to compute the sum. But the user might be expecting a direct answer, but since the tools can only be used via the add function, I need to call that. So the answer would be the value of adding those two numbers. Hence, I should use the add tool with a and b as 114514 and 1919810, then return the result.
</think>

<think>
Okay, so the user asked how many times 114514 plus 1919810 equals, and I need to use the tools provided. The function 'add' takes two numbers, so I should call that with a=114514 and b=1919810. Adding them gives 2034324. Let me check the calculation again to avoid any mistakes. 114,514 plus 1,919,810. Let me add again step by step. 1,000,000 + 114,514 = 1,114,514. Then add 919,810: 1,114,514 + 919,810. Breaking it down, 1,114,514 + 900,000 = 2,014,514, then +19,810 would be 2,034,324. Yep, that's correct. So the final answer should be 2,034,324.
</think>

The sum of 114514 and 1919810 is 2034324. 

Therefore, the answer is $\\boxed{2034324}$."
`;

exports[`streamText with tools > basic 2`] = `
[
  {
    "ai.operationId": "ai.toolCall",
    "ai.toolCall.args": "{"a":"114514","b":"1919810"}",
    "ai.toolCall.id": "call_gdrx0yeo",
    "ai.toolCall.name": "add",
    "ai.toolCall.result": ""2034324"",
    "operation.name": "ai.toolCall",
  },
  {
    "ai.model.id": "qwen3:0.6b",
    "ai.model.provider": "xsai",
    "ai.operationId": "ai.streamText.doStream",
    "ai.prompt.messages": "[{"content":"How many times does 114514 plus 1919810 equal? Please try to call the \`add\` tool to solve the problem.","role":"user"}]",
    "ai.prompt.toolChoice": "{"type":"auto"}",
    "ai.prompt.tools": [
      "{"description":"Adds two numbers","inputSchema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"a":{"type":"string"},"b":{"type":"string"}},"required":["a","b"],"additionalProperties":false},"name":"add","type":"function"}",
    ],
    "ai.response.avgOutputTokensPerSecond": 113.06507310675583,
    "ai.response.finishReason": "tool_calls",
    "ai.response.id": "5ba5e7f6-4941-46f0-8dae-c5757a2a158e",
    "ai.response.model": "qwen3:0.6b",
    "ai.response.msToFinish": 6368.014279,
    "ai.response.msToFirstChunk": 3001.2150410000004,
    "ai.response.providerMetadata": "{}",
    "ai.response.text": "<think> Okay, so the user is asking how many times",
    "ai.response.timestamp": "2025-09-04T06:37:22.698Z",
    "ai.response.toolCalls": "[{"args":"{\\"a\\":\\"114514\\",\\"b\\":\\"1919810\\"}","toolCallId":"call_gdrx0yeo","toolCallType":"function","toolName":"add"}]",
    "ai.usage.inputTokens": 180,
    "ai.usage.outputTokens": 720,
    "ai.usage.totalTokens": 900,
    "gen_ai.request.model": "qwen3:0.6b",
    "gen_ai.response.finish_reasons": [
      "tool_calls",
    ],
    "gen_ai.response.id": "ba31a19d-6e39-4ec9-b02c-40befa4bc669",
    "gen_ai.response.model": "qwen3:0.6b",
    "gen_ai.system": "xsai",
    "gen_ai.usage.input_tokens": 180,
    "gen_ai.usage.output_tokens": 720,
    "operation.name": "ai.streamText.doStream",
  },
  {
    "ai.model.id": "qwen3:0.6b",
    "ai.model.provider": "xsai",
    "ai.operationId": "ai.streamText.doStream",
    "ai.prompt.messages": "[{"content":"How many times does 114514 plus 1919810 equal? Please try to call the \`add\` tool to solve the problem.","role":"user"}]",
    "ai.prompt.toolChoice": "{"type":"auto"}",
    "ai.prompt.tools": [
      "{"description":"Adds two numbers","inputSchema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"a":{"type":"string"},"b":{"type":"string"}},"required":["a","b"],"additionalProperties":false},"name":"add","type":"function"}",
    ],
    "ai.response.avgOutputTokensPerSecond": 114.80598379039618,
    "ai.response.finishReason": "stop",
    "ai.response.id": "1d274edf-aa84-4289-a2d3-77c90cf223e9",
    "ai.response.model": "qwen3:0.6b",
    "ai.response.msToFinish": 2735.0490769999997,
    "ai.response.msToFirstChunk": 1174.8221759999997,
    "ai.response.providerMetadata": "{}",
    "ai.response.text": "<think> Okay, so the user asked how many times 114",
    "ai.response.timestamp": "2025-09-04T06:37:29.067Z",
    "ai.usage.inputTokens": 885,
    "ai.usage.outputTokens": 314,
    "ai.usage.totalTokens": 1199,
    "gen_ai.request.model": "qwen3:0.6b",
    "gen_ai.response.finish_reasons": [
      "stop",
    ],
    "gen_ai.response.id": "922020c0-9ca9-4347-99ef-272a3f159f05",
    "gen_ai.response.model": "qwen3:0.6b",
    "gen_ai.system": "xsai",
    "gen_ai.usage.input_tokens": 885,
    "gen_ai.usage.output_tokens": 314,
    "operation.name": "ai.streamText.doStream",
  },
]
`;

exports[`streamText with tools > basic/ai 1`] = `"The sum of 114514 and 1919810 is 2034324."`;

exports[`streamText with tools > basic/ai 2`] = `
[
  {
    "ai.operationId": "ai.toolCall",
    "ai.toolCall.args": "{"a":"114514","b":"1919810"}",
    "ai.toolCall.id": "CXtARhrzqWbURbA1",
    "ai.toolCall.name": "add",
    "ai.toolCall.result": ""2034324"",
    "operation.name": "ai.toolCall",
  },
  {
    "ai.model.id": "qwen3:0.6b",
    "ai.model.provider": "ollama.responses",
    "ai.operationId": "ai.streamText.doStream",
    "ai.prompt.messages": "[{"role":"user","content":[{"type":"text","text":"How many times does 114514 plus 1919810 equal? Please try to call the \`add\` tool to solve the problem."}]}]",
    "ai.prompt.toolChoice": "{"type":"auto"}",
    "ai.prompt.tools": [
      "{"type":"function","name":"add","description":"Adds two numbers","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"a":{"description":"First number","type":"string"},"b":{"description":"Second number","type":"string"}},"required":["a","b"],"additionalProperties":false}}",
    ],
    "ai.response.avgOutputTokensPerSecond": 157.58159318825292,
    "ai.response.finishReason": "stop",
    "ai.response.id": "aitxt-gQyqDcvvZSrdlHSYRpVEDDW9",
    "ai.response.model": "qwen3:0.6b",
    "ai.response.msToFinish": 228.45307799999864,
    "ai.response.msToFirstChunk": 221.95220399999926,
    "ai.response.providerMetadata": "{"ollama":{"responseId":null}}",
    "ai.response.text": "",
    "ai.response.timestamp": "2025-09-04T06:37:32.027Z",
    "ai.response.toolCalls": "[{"type":"tool-call","toolCallId":"CXtARhrzqWbURbA1","toolName":"add","input":{"a":"114514","b":"1919810"}}]",
    "ai.settings.maxRetries": 2,
    "ai.settings.seed": 114514,
    "ai.usage.inputTokens": 192,
    "ai.usage.outputTokens": 36,
    "ai.usage.totalTokens": 228,
    "gen_ai.request.model": "qwen3:0.6b",
    "gen_ai.response.finish_reasons": [
      "stop",
    ],
    "gen_ai.response.id": "aitxt-gQyqDcvvZSrdlHSYRpVEDDW9",
    "gen_ai.response.model": "qwen3:0.6b",
    "gen_ai.system": "ollama.responses",
    "gen_ai.usage.input_tokens": 192,
    "gen_ai.usage.output_tokens": 36,
    "operation.name": "ai.streamText.doStream",
  },
  {
    "ai.model.id": "qwen3:0.6b",
    "ai.model.provider": "ollama.responses",
    "ai.operationId": "ai.streamText.doStream",
    "ai.prompt.messages": "[{"role":"user","content":[{"type":"text","text":"How many times does 114514 plus 1919810 equal? Please try to call the \`add\` tool to solve the problem."}]},{"role":"assistant","content":[{"type":"tool-call","toolCallId":"CXtARhrzqWbURbA1","toolName":"add","input":{"a":"114514","b":"1919810"}}]},{"role":"tool","content":[{"type":"tool-result","toolCallId":"CXtARhrzqWbURbA1","toolName":"add","output":{"type":"text","value":"2034324"}}]}]",
    "ai.prompt.toolChoice": "{"type":"auto"}",
    "ai.prompt.tools": [
      "{"type":"function","name":"add","description":"Adds two numbers","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"a":{"description":"First number","type":"string"},"b":{"description":"Second number","type":"string"}},"required":["a","b"],"additionalProperties":false}}",
    ],
    "ai.response.avgOutputTokensPerSecond": 147.770048014134,
    "ai.response.finishReason": "stop",
    "ai.response.id": "aitxt-oUY7epRfOZMgoKkjwnqClGIM",
    "ai.response.model": "qwen3:0.6b",
    "ai.response.msToFinish": 203.01813799999945,
    "ai.response.msToFirstChunk": 57.67115600000034,
    "ai.response.providerMetadata": "{"ollama":{"responseId":null}}",
    "ai.response.text": "The sum of 114514 and 1919810 is 2034324.",
    "ai.response.timestamp": "2025-09-04T06:37:32.096Z",
    "ai.settings.maxRetries": 2,
    "ai.settings.seed": 114514,
    "ai.usage.inputTokens": 245,
    "ai.usage.outputTokens": 30,
    "ai.usage.totalTokens": 275,
    "gen_ai.request.model": "qwen3:0.6b",
    "gen_ai.response.finish_reasons": [
      "stop",
    ],
    "gen_ai.response.id": "aitxt-oUY7epRfOZMgoKkjwnqClGIM",
    "gen_ai.response.model": "qwen3:0.6b",
    "gen_ai.system": "ollama.responses",
    "gen_ai.usage.input_tokens": 245,
    "gen_ai.usage.output_tokens": 30,
    "operation.name": "ai.streamText.doStream",
  },
  {
    "ai.model.id": "qwen3:0.6b",
    "ai.model.provider": "ollama.responses",
    "ai.operationId": "ai.streamText",
    "ai.prompt": "{"prompt":"How many times does 114514 plus 1919810 equal? Please try to call the \`add\` tool to solve the problem."}",
    "ai.response.finishReason": "stop",
    "ai.response.providerMetadata": "{"ollama":{"responseId":null}}",
    "ai.response.text": "The sum of 114514 and 1919810 is 2034324.",
    "ai.settings.maxRetries": 2,
    "ai.settings.seed": 114514,
    "ai.usage.inputTokens": 437,
    "ai.usage.outputTokens": 66,
    "ai.usage.totalTokens": 503,
    "operation.name": "ai.streamText",
  },
]
`;
