// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`generateText with tools > basic 1`] = `
"<think>
Okay, let me check the calculation again. The user asked how many times 114514 plus 1919810 equals. Since adding those two numbers gives 2,034,324, which is the sum, the answer should be that number. But the tool response is 2034324, so I just need to present that as the final answer.
</think>
The sum of 114,514 and 1,919,810 is 2,034,324. 

So, the final answer is 2,034,324."
`;

exports[`generateText with tools > basic 2`] = `
[
  {
    "ai.model.id": "qwen3:0.6b",
    "ai.model.provider": "xsai",
    "ai.operationId": "ai.generateText.doGenerate",
    "ai.prompt.messages": "[{"content":"How many times does 114514 plus 1919810 equal? Please try to call the \`add\` tool to solve the problem.","role":"user"}]",
    "ai.prompt.toolChoice": "{"type":"auto"}",
    "ai.prompt.tools": [
      "{"description":"Adds two numbers","inputSchema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"a":{"type":"string"},"b":{"type":"string"}},"required":["a","b"],"additionalProperties":false},"name":"add","type":"function"}",
    ],
    "ai.response.finishReason": "tool_calls",
    "ai.response.id": "db17e1e4-abcc-43a5-a385-ec0d16a0cdc7",
    "ai.response.model": "qwen3:0.6b",
    "ai.response.providerMetadata": "{}",
    "ai.response.timestamp": "2025-09-04T06:37:22.702Z",
    "ai.response.toolCalls": "[{"args":"{\\"a\\":\\"114514\\",\\"b\\":\\"1919810\\"}","toolCallId":"call_5ann9oq4","toolCallType":"function","toolName":"add"}]",
    "ai.usage.completionTokens": 1412,
    "ai.usage.promptTokens": 180,
    "gen_ai.request.model": "qwen3:0.6b",
    "gen_ai.response.finish_reasons": [
      "tool_calls",
    ],
    "gen_ai.response.id": "634c3aff-0651-40e1-9c0a-d9dde2897746",
    "gen_ai.response.model": "qwen3:0.6b",
    "gen_ai.system": "xsai",
    "gen_ai.usage.input_tokens": 180,
    "gen_ai.usage.output_tokens": 1412,
    "operation.name": "ai.generateText.doGenerate",
  },
  {
    "ai.operationId": "ai.toolCall",
    "ai.toolCall.args": "{"a":"114514","b":"1919810"}",
    "ai.toolCall.id": "call_5ann9oq4",
    "ai.toolCall.name": "add",
    "ai.toolCall.result": ""2034324"",
    "operation.name": "ai.toolCall",
  },
  {
    "ai.model.id": "qwen3:0.6b",
    "ai.model.provider": "xsai",
    "ai.operationId": "ai.generateText.doGenerate",
    "ai.prompt.messages": "[{"content":"How many times does 114514 plus 1919810 equal? Please try to call the \`add\` tool to solve the problem.","role":"user"},{"role":"assistant","content":"<think>\\nOkay, so the user is asking how many times 114514 plus 1919810 equals. Let me break this down. First, I need to calculate the sum of these two numbers. Let me add them. 114514 plus 1919810. Let's do the math step by step. Adding 114514 and 1,919,810. Well, adding them together, 1,919,810 plus 114,514. Adding the numbers: 1,919,810 + 114,514. Let me check that. Hmm, 1,919,810 plus 114,514. Let me add column by column. The hundreds: 1,919,810 has 9 in the millions, 0 in the hundreds. Adding 114,514 would be adding 1 hundred millions and 4 ten thousands, etc. Wait, maybe it's easier to think of it as 1,919,810 + 114,514. Let me add them. The total sum is 1,919,810 + 114,514. Let me calculate that. Let me add 1,919,810 + 100,000 = 2,019,810. Then add 14,514: 2,019,810 + 14,514. So 2,019,810 + 14,514. Let me do that again. 1,919,810 + 114,514. Let me write them: 1,919,810 is 1,919,810. Adding 114,514: 1,919,810 + 114,514. Let me add 1,919,810 to 114,514. Let me do the math. Let me add 1,919,810 + 100,000 = 2,019,810. Then add 14,514: 2,019,810 + 14,514. Adding 14,514 to 2,019,810. Let me break it down: 2,019,810 + 10,000 = 2,029,810. Then add 4,514: 2,029,810 + 4,514. Then add 0. Wait, the original question is how many times? Wait, maybe the user is asking for the sum, not how many times? Wait, the question says \\"How many times does 114514 plus 1919810 equal?\\" So maybe it's asking for the count of times, meaning the sum? But the sum is already a single number. Or maybe there's a misunderstanding here. Wait, no, perhaps there's a typo. Wait, maybe the user actually wants to know the result of adding those two numbers, and that number is the value we're to calculate. Since adding 114514 plus 1919810 is straightforward, but perhaps the user made a typo. Alternatively, maybe there's more context. Wait, but the problem says \\"how many times does... equal\\", which is a bit ambiguous. If it's a math problem, maybe they expect the sum. Let me confirm. The user provided the function 'add' which takes two numbers. So if the question is to compute their sum, perhaps the answer is simply the result, which is 114514 + 1919810. Let me calculate again. 1919810 + 114514. Let me add digits: 1 (from 1,919,810) + 1 (from 114,514) = 2, then 9 + 1 = 10, and so on. Alternatively, using calculator steps: 114514 + 1919810 = ?\\n\\nYes, adding those together: 1919810 + 114514. Let's add: 1919810 + 114514. Adding, we can think of 1919810 as 1,919,810 and 114,514 as 0.0114514 million. So adding to get 2,032, 000? Wait, 1,919,810 + 114,514. Let me do it directly. 1,919,810 + 114,514. Adding the thousandths: 1,919,810 + 114,514. Let me do 1,919,810 + 100,000 = 2,019,810 + 14,514. Then 2,019,810 + 14,514. 2,019,810 + 10,000 = 2,029,810 + 4,514 = 2,034,324. So the total sum is 2,034,324. Therefore, the question might be expecting this number as the answer, and since it's a single calculation, it's the answer. So the tool call would be to add the two numbers, which in this case is 114514 and 1919810. So the answer should be 2,034,324.\\n</think>\\n\\n","tool_calls":[{"id":"call_5ann9oq4","index":0,"type":"function","function":{"name":"add","arguments":"{\\"a\\":\\"114514\\",\\"b\\":\\"1919810\\"}"}}]},{"content":"2034324","role":"tool","tool_call_id":"call_5ann9oq4"}]",
    "ai.prompt.toolChoice": "{"type":"auto"}",
    "ai.prompt.tools": [
      "{"description":"Adds two numbers","inputSchema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"a":{"type":"string"},"b":{"type":"string"}},"required":["a","b"],"additionalProperties":false},"name":"add","type":"function"}",
    ],
    "ai.response.finishReason": "stop",
    "ai.response.id": "0554055c-5386-4554-8969-eec81791c555",
    "ai.response.model": "qwen3:0.6b",
    "ai.response.providerMetadata": "{}",
    "ai.response.text": "<think> Okay, let me check the calculation again. ",
    "ai.response.timestamp": "2025-09-04T06:37:32.609Z",
    "ai.usage.completionTokens": 145,
    "ai.usage.promptTokens": 1577,
    "gen_ai.request.model": "qwen3:0.6b",
    "gen_ai.response.finish_reasons": [
      "stop",
    ],
    "gen_ai.response.id": "fc82b7cf-0b8b-4a2d-8c07-5a3d502b2990",
    "gen_ai.response.model": "qwen3:0.6b",
    "gen_ai.system": "xsai",
    "gen_ai.usage.input_tokens": 1577,
    "gen_ai.usage.output_tokens": 145,
    "operation.name": "ai.generateText.doGenerate",
  },
  {
    "ai.model.id": "qwen3:0.6b",
    "ai.model.provider": "xsai",
    "ai.operationId": "ai.generateText",
    "ai.prompt": "{"messages":[{"content":"How many times does 114514 plus 1919810 equal? Please try to call the \`add\` tool to solve the problem.","role":"user"}]}",
    "ai.response.finishReason": "stop",
    "ai.response.providerMetadata": "{}",
    "ai.response.text": "<think> Okay, let me check the calculation again. ",
    "ai.usage.completionTokens": 145,
    "ai.usage.promptTokens": 1577,
    "operation.name": "ai.generateText",
  },
]
`;

exports[`generateText with tools > basic/ai 1`] = `"20,343,24"`;

exports[`generateText with tools > basic/ai 2`] = `
[
  {
    "ai.model.id": "qwen3:0.6b",
    "ai.model.provider": "ollama.responses",
    "ai.operationId": "ai.generateText.doGenerate",
    "ai.prompt.messages": "[{"role":"user","content":[{"type":"text","text":"How many times does 114514 plus 1919810 equal? Please try to call the \`add\` tool to solve the problem."}]}]",
    "ai.prompt.toolChoice": "{"type":"auto"}",
    "ai.prompt.tools": [
      "{"type":"function","name":"add","description":"Adds two numbers","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"a":{"description":"First number","type":"string"},"b":{"description":"Second number","type":"string"}},"required":["a","b"],"additionalProperties":false}}",
    ],
    "ai.response.finishReason": "stop",
    "ai.response.id": "aitxt-w0dOsVrVDGQjdJAXFVKUwRNd",
    "ai.response.model": "qwen3:0.6b",
    "ai.response.providerMetadata": "{"ollama":{}}",
    "ai.response.timestamp": "2025-09-04T06:37:33.408Z",
    "ai.response.toolCalls": "[{"toolCallId":"YviVlBwW46wpZQhp","toolName":"add","input":"{\\"a\\":\\"114514\\",\\"b\\":\\"1919810\\"}"}]",
    "ai.settings.maxRetries": 2,
    "ai.settings.seed": 114514,
    "ai.usage.completionTokens": 36,
    "ai.usage.promptTokens": 192,
    "gen_ai.request.model": "qwen3:0.6b",
    "gen_ai.response.finish_reasons": [
      "stop",
    ],
    "gen_ai.response.id": "aitxt-w0dOsVrVDGQjdJAXFVKUwRNd",
    "gen_ai.response.model": "qwen3:0.6b",
    "gen_ai.system": "ollama.responses",
    "gen_ai.usage.input_tokens": 192,
    "gen_ai.usage.output_tokens": 36,
    "operation.name": "ai.generateText.doGenerate",
  },
  {
    "ai.operationId": "ai.toolCall",
    "ai.toolCall.args": "{"a":"114514","b":"1919810"}",
    "ai.toolCall.id": "YviVlBwW46wpZQhp",
    "ai.toolCall.name": "add",
    "ai.toolCall.result": ""2034324"",
    "operation.name": "ai.toolCall",
  },
  {
    "ai.model.id": "qwen3:0.6b",
    "ai.model.provider": "ollama.responses",
    "ai.operationId": "ai.generateText.doGenerate",
    "ai.prompt.messages": "[{"role":"user","content":[{"type":"text","text":"How many times does 114514 plus 1919810 equal? Please try to call the \`add\` tool to solve the problem."}]},{"role":"assistant","content":[{"type":"tool-call","toolCallId":"YviVlBwW46wpZQhp","toolName":"add","input":{"a":"114514","b":"1919810"}}]},{"role":"tool","content":[{"type":"tool-result","toolCallId":"YviVlBwW46wpZQhp","toolName":"add","output":{"type":"text","value":"2034324"}}]}]",
    "ai.prompt.toolChoice": "{"type":"auto"}",
    "ai.prompt.tools": [
      "{"type":"function","name":"add","description":"Adds two numbers","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"a":{"description":"First number","type":"string"},"b":{"description":"Second number","type":"string"}},"required":["a","b"],"additionalProperties":false}}",
    ],
    "ai.response.finishReason": "stop",
    "ai.response.id": "aitxt-XbVomhGadOfmLxWCO870g0kp",
    "ai.response.model": "qwen3:0.6b",
    "ai.response.providerMetadata": "{"ollama":{}}",
    "ai.response.text": "20,343,24",
    "ai.response.timestamp": "2025-09-04T06:37:33.633Z",
    "ai.settings.maxRetries": 2,
    "ai.settings.seed": 114514,
    "ai.usage.completionTokens": 10,
    "ai.usage.promptTokens": 245,
    "gen_ai.request.model": "qwen3:0.6b",
    "gen_ai.response.finish_reasons": [
      "stop",
    ],
    "gen_ai.response.id": "aitxt-XbVomhGadOfmLxWCO870g0kp",
    "gen_ai.response.model": "qwen3:0.6b",
    "gen_ai.system": "ollama.responses",
    "gen_ai.usage.input_tokens": 245,
    "gen_ai.usage.output_tokens": 10,
    "operation.name": "ai.generateText.doGenerate",
  },
  {
    "ai.model.id": "qwen3:0.6b",
    "ai.model.provider": "ollama.responses",
    "ai.operationId": "ai.generateText",
    "ai.prompt": "{"prompt":"How many times does 114514 plus 1919810 equal? Please try to call the \`add\` tool to solve the problem."}",
    "ai.response.finishReason": "stop",
    "ai.response.providerMetadata": "{"ollama":{}}",
    "ai.response.text": "20,343,24",
    "ai.settings.maxRetries": 2,
    "ai.settings.seed": 114514,
    "ai.usage.completionTokens": 10,
    "ai.usage.promptTokens": 245,
    "operation.name": "ai.generateText",
  },
]
`;
